<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Seeing Machines CoreData API: TcpSocket Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="nav">
<a class="el" href="namespacesm.html">sm</a>::<a class="el" href="namespacesm_1_1eod.html">eod</a>::<a class="el" href="namespacesm_1_1eod_1_1io.html">io</a>::<a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html">TcpSocket</a></div>
<h1>TcpSocket Class Reference</h1><!-- doxytag: class="sm::eod::io::TcpSocket" --><code>#include &lt;<a class="el" href="tcpsocket_8h-source.html">tcpsocket.h</a>&gt;</code>
<p>
<a href="classsm_1_1eod_1_1io_1_1_tcp_socket-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
This class represents a socket for sending and receiving TCP packets. 
<p>

<p>
Definition at line <a class="el" href="tcpsocket_8h-source.html#l00016">16</a> of file <a class="el" href="tcpsocket_8h-source.html">tcpsocket.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#48bd6ef729fcb5aa79031ca82eee0f20">SocketOptionFlag</a> { <br>
&nbsp;&nbsp;<b>SolReuseAddr</b>, 
<br>
&nbsp;&nbsp;<b>TcpNoDelay</b>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html">TcpSocket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#31c9879414b259b2fb4888b091764faf">accept</a> (int timeout_ms=100)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#a8d963781ddeab2cc30b18915cb0c5cd">bind</a> (const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;local_address=<a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a>(0,&quot;0.0.0.0&quot;))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#5ae591df94fc66ccb85cbb6565368bca">close</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#a5f682a93b0ca4499b193e4b9db2ea19">connect</a> (const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;remote_address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#a0fd96bc25e3d509fb54028c2e4b91f6">connected</a> () const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#4ecc87782ca68bc030564e70127d36f3">dataReady</a> () const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#1f18d1d301695674e5b278b41dabfd4c">enableNagleAlgortihm</a> (bool enabled)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#62ef55f02222753935e7d220c80e7a36">getInetAddress</a> () const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#8d040d7649f8ca3417c72e78c496acfe">getLocalAddress</a> () const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#3c1e2604088bab89beaeaa496130967c">getRemoteAddress</a> () const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#458bbe4cf81360301586b2e62a7f9dd2">listen</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#9e8555112049fc2b4945120b3c45f8ab">open</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#298583c3d514f1169bfc43169ba78c38">opened</a> () const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#b1d27e50353fccde924e0dd3b13f16b5">receive</a> (std::vector&lt; uint8 &gt; &amp;buffer, int timeout_ms=100, bool append_buffer=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#97a269089b1c8cb04c4069052f0d0019">send</a> (const uint8 *buffer, size_t count, int timeout_ms)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#f02a403175f55277fb0279eb7c473d10">send</a> (const uint8 *buffer, unsigned int count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#4e8ca7c9944f39121516bab2e3cb8cc0">send</a> (const std::vector&lt; uint8 &gt; &amp;buffer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#8a1221f1e3691eae395517312c3cb0ed">setSocketFlag</a> (<a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#48bd6ef729fcb5aa79031ca82eee0f20">SocketOptionFlag</a> socket_flag, bool value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#447830beef7241b5ec69642a1b3b10f3">socketFlag</a> (<a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#48bd6ef729fcb5aa79031ca82eee0f20">SocketOptionFlag</a> socket_flag) const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#07d026ef94ade54c68b8da1f568603ab">TcpSocket</a> (SOCKET socket=INVALID_SOCKET)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#2ae3cc23b5afed4709f0a43baf8521dd">~TcpSocket</a> ()</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="07d026ef94ade54c68b8da1f568603ab"></a><!-- doxytag: member="sm::eod::io::TcpSocket::TcpSocket" ref="07d026ef94ade54c68b8da1f568603ab" args="(SOCKET socket=INVALID_SOCKET)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html">TcpSocket</a>           </td>
          <td>(</td>
          <td class="paramtype">SOCKET&nbsp;</td>
          <td class="paramname"> <em>socket</em> = <code>INVALID_SOCKET</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs an unconnected socket. 
<p>

</div>
</div><p>
<a class="anchor" name="2ae3cc23b5afed4709f0a43baf8521dd"></a><!-- doxytag: member="sm::eod::io::TcpSocket::~TcpSocket" ref="2ae3cc23b5afed4709f0a43baf8521dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html">TcpSocket</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the socket. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="31c9879414b259b2fb4888b091764faf"></a><!-- doxytag: member="sm::eod::io::TcpSocket::accept" ref="31c9879414b259b2fb4888b091764faf" args="(int timeout_ms=100)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html">TcpSocket</a>* accept           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em> = <code>100</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is open </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a8d963781ddeab2cc30b18915cb0c5cd"></a><!-- doxytag: member="sm::eod::io::TcpSocket::bind" ref="a8d963781ddeab2cc30b18915cb0c5cd" args="(const InetAddress &amp;local_address=InetAddress(0,&quot;0.0.0.0&quot;))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bind           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>local_address</em> = <code><a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a>(0,&quot;0.0.0.0&quot;)</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Binds the open socket to the local address. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is open <p>
socket is not connected </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5ae591df94fc66ccb85cbb6565368bca"></a><!-- doxytag: member="sm::eod::io::TcpSocket::close" ref="5ae591df94fc66ccb85cbb6565368bca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the socket. This is safe to call on an un-opened socket. 
<p>

</div>
</div><p>
<a class="anchor" name="a5f682a93b0ca4499b193e4b9db2ea19"></a><!-- doxytag: member="sm::eod::io::TcpSocket::connect" ref="a5f682a93b0ca4499b193e4b9db2ea19" args="(const InetAddress &amp;remote_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connect           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>remote_address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connects the open socket to the remote address. 
<p>
If the connect fails the socket will be closed(). This matches the behaviour on BSD Unix where a failed connect(2) will result in all subsequent calls for the same socket returing EINVAL.<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is open <p>
socket is not connected (failure will also close the socket) </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>network error. <a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html">TcpSocket</a> will also be closed(). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a0fd96bc25e3d509fb54028c2e4b91f6"></a><!-- doxytag: member="sm::eod::io::TcpSocket::connected" ref="a0fd96bc25e3d509fb54028c2e4b91f6" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool connected           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if the socket is 'connected'. 
<p>

</div>
</div><p>
<a class="anchor" name="4ecc87782ca68bc030564e70127d36f3"></a><!-- doxytag: member="sm::eod::io::TcpSocket::dataReady" ref="4ecc87782ca68bc030564e70127d36f3" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dataReady           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if data is waiting in receive buffer. 
<p>

<p>
Definition at line <a class="el" href="tcpsocket_8h-source.html#l00122">122</a> of file <a class="el" href="tcpsocket_8h-source.html">tcpsocket.h</a>.
</div>
</div><p>
<a class="anchor" name="1f18d1d301695674e5b278b41dabfd4c"></a><!-- doxytag: member="sm::eod::io::TcpSocket::enableNagleAlgortihm" ref="1f18d1d301695674e5b278b41dabfd4c" args="(bool enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enableNagleAlgortihm           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>enabled</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Nagle algorithm buffers smalls packets into a single send. 
<p>
Same as setSocketFlag(TcpNoDelay, enabled) 
</div>
</div><p>
<a class="anchor" name="62ef55f02222753935e7d220c80e7a36"></a><!-- doxytag: member="sm::eod::io::TcpSocket::getInetAddress" ref="62ef55f02222753935e7d220c80e7a36" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a>&amp; getInetAddress           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the address the socket is connected to. 
<p>
If the socket is not connected, returns the local address. 
</div>
</div><p>
<a class="anchor" name="8d040d7649f8ca3417c72e78c496acfe"></a><!-- doxytag: member="sm::eod::io::TcpSocket::getLocalAddress" ref="8d040d7649f8ca3417c72e78c496acfe" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a>&amp; getLocalAddress           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Address used to bind. 
<p>

</div>
</div><p>
<a class="anchor" name="3c1e2604088bab89beaeaa496130967c"></a><!-- doxytag: member="sm::eod::io::TcpSocket::getRemoteAddress" ref="3c1e2604088bab89beaeaa496130967c" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsm_1_1eod_1_1io_1_1_inet_address.html">InetAddress</a>&amp; getRemoteAddress           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remote address. 
<p>

</div>
</div><p>
<a class="anchor" name="458bbe4cf81360301586b2e62a7f9dd2"></a><!-- doxytag: member="sm::eod::io::TcpSocket::listen" ref="458bbe4cf81360301586b2e62a7f9dd2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void listen           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Places socket into a state where it is listening for incoming connections. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is open </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9e8555112049fc2b4945120b3c45f8ab"></a><!-- doxytag: member="sm::eod::io::TcpSocket::open" ref="9e8555112049fc2b4945120b3c45f8ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void open           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the socket. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is not open </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>on error. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="298583c3d514f1169bfc43169ba78c38"></a><!-- doxytag: member="sm::eod::io::TcpSocket::opened" ref="298583c3d514f1169bfc43169ba78c38" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool opened           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if the socket is 'open'. 
<p>

</div>
</div><p>
<a class="anchor" name="b1d27e50353fccde924e0dd3b13f16b5"></a><!-- doxytag: member="sm::eod::io::TcpSocket::receive" ref="b1d27e50353fccde924e0dd3b13f16b5" args="(std::vector&lt; uint8 &gt; &amp;buffer, int timeout_ms=100, bool append_buffer=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int receive           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; uint8 &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>append_buffer</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receives data from this socket. 
<p>
Note: this method blocks the calling thread. Use the dataReady method to do a non-blocking check for data. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Receives data in the datagram </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>Time to wait for the data. After this period if data is not available this method returns 0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>append_buffer</em>&nbsp;</td><td>If true, data is appended to the buffer, otherwise the data overwrites </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes read or 0 if no data was available or connection was closed by other side. </dd></dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is connected. </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="97a269089b1c8cb04c4069052f0d0019"></a><!-- doxytag: member="sm::eod::io::TcpSocket::send" ref="97a269089b1c8cb04c4069052f0d0019" args="(const uint8 *buffer, size_t count, int timeout_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t send           </td>
          <td>(</td>
          <td class="paramtype">const uint8 *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends count bytes from buffer of data. 
<p>
This method blocks upto @ timeout_ms waiting for the socket to be able to accept more data.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Data to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Number of bytes to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>Number of millseconds to block. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the number of bytes actually sent. </dd></dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is connected </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f02a403175f55277fb0279eb7c473d10"></a><!-- doxytag: member="sm::eod::io::TcpSocket::send" ref="f02a403175f55277fb0279eb7c473d10" args="(const uint8 *buffer, unsigned int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send           </td>
          <td>(</td>
          <td class="paramtype">const uint8 *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends count bytes from buffer of data. 
<p>
Note: this method blocks the calling thread until all data has been sent. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Data to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Number of bytes to send. </td></tr>
  </table>
</dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is connected </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4e8ca7c9944f39121516bab2e3cb8cc0"></a><!-- doxytag: member="sm::eod::io::TcpSocket::send" ref="4e8ca7c9944f39121516bab2e3cb8cc0" args="(const std::vector&lt; uint8 &gt; &amp;buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send           </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint8 &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>buffer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the entire buffer of data. 
<p>
Note: this method blocks the calling thread until all data has been sent. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Data to send </td></tr>
  </table>
</dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>socket is connected </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>if network error. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8a1221f1e3691eae395517312c3cb0ed"></a><!-- doxytag: member="sm::eod::io::TcpSocket::setSocketFlag" ref="8a1221f1e3691eae395517312c3cb0ed" args="(SocketOptionFlag socket_flag, bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSocketFlag           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#48bd6ef729fcb5aa79031ca82eee0f20">SocketOptionFlag</a>&nbsp;</td>
          <td class="paramname"> <em>socket_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a socket option flag. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>socket_flag is not supported or sockets api failed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="447830beef7241b5ec69642a1b3b10f3"></a><!-- doxytag: member="sm::eod::io::TcpSocket::socketFlag" ref="447830beef7241b5ec69642a1b3b10f3" args="(SocketOptionFlag socket_flag) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool socketFlag           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsm_1_1eod_1_1io_1_1_tcp_socket.html#48bd6ef729fcb5aa79031ca82eee0f20">SocketOptionFlag</a>&nbsp;</td>
          <td class="paramname"> <em>socket_flag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the value of the socket option. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classsm_1_1eod_1_1io_1_1_socket_error.html">SocketError</a></em>&nbsp;</td><td>socket_flag is not supported or sockets api failed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Fri Apr 1 15:36:51 2011 for Seeing Machines CoreData API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.0 </small></address>
</body>
</html>
